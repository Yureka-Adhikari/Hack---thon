
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CivicSewa | Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
    --nav-blue:#294b76;
    --primary:#1f6fff;
    --bg:#dcecf1;
    --panel:#ffffff;
    --soft:#eaf3ff;
    --text:#0f172a;
    --muted:#64748b;
    --border:#dbeafe;
}

body{
    background:radial-gradient(circle at top,#eaf3ff,#dcecf1);
    height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
    font-family:"Segoe UI",sans-serif;
    perspective:1200px;
    transition:.6s;
}

/* flip overlay */
#themeFlip{
    position:fixed;
    inset:0;
    background:linear-gradient(135deg,#1e40af,#020617);
    z-index:9998;
    transform:rotateY(90deg);
    transform-origin:center;
    transition:.6s cubic-bezier(.77,0,.175,1);
    backface-visibility:hidden;
}
#themeFlip.active{
    transform:rotateY(0deg);
}

/* Soft civic grid */
.bg-lines{
    position:absolute;
    inset:0;
    background:
        repeating-linear-gradient(135deg,
            rgba(31,111,255,.05) 0px,
            rgba(31,111,255,.05) 1px,
            transparent 1px,
            transparent 18px);
    animation: drift 40s linear infinite;
}
@keyframes drift{
    from{background-position:0 0;}
    to{background-position:1000px 1000px;}
}

/* Floating widgets */
.widget{
    position:absolute;
    background:rgba(255,255,255,.6);
    backdrop-filter:blur(20px);
    border-radius:16px;
    box-shadow:0 20px 50px rgba(31,111,255,.15);
    border:1px solid var(--border);
    animation:float 8s ease-in-out infinite;
}
.w1{width:220px;height:140px;left:6%;top:20%;}
.w2{width:180px;height:110px;right:8%;top:30%;animation-delay:1s;}
.w3{width:260px;height:150px;right:12%;bottom:18%;animation-delay:2s;}

@keyframes float{
    0%,100%{transform:translateY(0);}
    50%{transform:translateY(-20px);}
}

/* Dino + logo */
.dino{
    position:absolute;
    right:40px;
    bottom:40px;
    font-size:90px;
    animation:float 6s ease-in-out infinite;
    filter:drop-shadow(0 0 30px rgba(31,111,255,.4));
}
.dino span{
    position:absolute;
    top:-20px;
    right:-20px;
    background:var(--primary);
    color:white;
    font-weight:800;
    padding:6px 14px;
    border-radius:14px;
    font-size:14px;
}

/* Login card */
.login-card{
    position:relative;
    background:var(--panel);
    border-radius:24px;
    padding:50px;
    width:100%;
    max-width:420px;
    box-shadow:0 30px 80px rgba(0,0,0,.08);
    border:1px solid var(--border);
    z-index:10;
    animation:fadeIn 1s ease;
}

h2{
    font-weight:900;
    color:var(--nav-blue);
    text-align:center;
    margin-bottom:30px;
    cursor:pointer;
}

/* Role selector */
.role-box{
    background:var(--soft);
    border-radius:12px;
    padding:10px 14px;
    margin-bottom:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    color:var(--muted);
}
.role-box select{
    background:transparent;
    border:none;
    color:var(--primary);
    font-weight:700;
    outline:none;
}

/* Inputs */
.form-control{
    background:var(--soft);
    border:1px solid var(--border);
    color:var(--text);
    border-radius:12px;
    padding:14px;
}
.form-control:focus{
    box-shadow:0 0 0 2px rgba(31,111,255,.25);
    border-color:var(--primary);
}

/* Buttons */
.btn-primary{
    background:var(--primary);
    border:none;
    font-weight:700;
    border-radius:12px;
    padding:12px;
}
.btn-primary:hover{background:#2563eb;}

a{color:var(--primary);text-decoration:none;}
a:hover{text-decoration:underline;}

/* Toggle */
#themeToggle{
    position:fixed;
    top:20px;
    left:20px;
    z-index:9999;
    background:var(--primary);
    color:white;
    border:none;
    width:44px;
    height:44px;
    border-radius:50%;
    font-size:18px;
    cursor:pointer;
    box-shadow:0 0 20px rgba(31,111,255,.5);
}

/* DARK MODE */
body.dark{
    background:radial-gradient(circle at top,#1e40af,#020617);
}
body.dark .bg-lines{
    background:
        repeating-linear-gradient(135deg,
            rgba(255,255,255,.05) 0px,
            rgba(255,255,255,.05) 1px,
            transparent 1px,
            transparent 16px);
}
body.dark .login-card{
    background:rgba(255,255,255,.08);
    backdrop-filter:blur(30px);
    box-shadow:0 30px 80px rgba(0,0,0,.7);
}
body.dark h2{color:#7dd3fc;}
body.dark .form-control{
    background:rgba(255,255,255,.12);
    color:white;
    border:none;
}
body.dark .role-box{
    background:rgba(0,0,0,.35);
    color:#cbd5f5;
}
body.dark .role-box select{color:#7dd3fc;}
body.dark a{color:#7dd3fc;}
body.dark .dino{
    filter:drop-shadow(0 0 40px #38bdf8);
}
body.dark .dino span{
    background:#38bdf8;
    color:#020617;
}
</style>
</head>

<body>

<div id="themeFlip"></div>
<button id="themeToggle">üåô</button>

<div class="bg-lines"></div>
<div class="widget w1"></div>
<div class="widget w2"></div>
<div class="widget w3"></div>

<div class="dino">ü¶ñ<span>CivicSewa</span></div>

<div class="login-card">
<h2 onclick="location.href='index.html'">CivicSewa</h2>

<div class="role-box">
    <span>Sign in as</span>
    <select id="role">
        <option value="citizen">Citizen</option>
        <option value="admin">Ward Admin</option>
    </select>
</div>

<form>
    <input type="email" id="loginEmail" class="form-control mb-3" placeholder="Email" required>
    <input type="password" id="loginPassword" class="form-control mb-3" placeholder="Password" required>

    <div class="d-flex justify-content-between mb-3">
        <a href="forgot.html">Forgot password?</a>
        <a href="signup.html">Create account</a>
    </div>

    <button type="button" id="loginBtn" class="btn btn-primary w-100">
        Login
    </button>
</form>

</div>

<script>

const toggle=document.getElementById("themeToggle");
const flip=document.getElementById("themeFlip");

toggle.onclick=()=>{
    flip.classList.add("active");

    setTimeout(()=>{
        document.body.classList.toggle("dark");
        toggle.innerText=document.body.classList.contains("dark")?"‚òÄÔ∏è":"üåô";
        localStorage.setItem("theme",document.body.classList.contains("dark")?"dark":"light");
    },300);

    setTimeout(()=>{
        flip.classList.remove("active");
    },600);
};

if(localStorage.getItem("theme")==="dark"){
    document.body.classList.add("dark");
    toggle.innerText="‚òÄÔ∏è";
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="auth-check.js"></script>

<div class="modal fade" id="verificationModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content p-4 text-center">
      <h5>Email Verification Required</h5>
      <p>
        A verification email has been sent to:
        <strong id="verifyEmail"></strong>
      </p>
      <button id="resendBtn" class="btn btn-primary mt-2">
        Resend Email
      </button>
    </div>
  </div>
</div>

</body>
</html>